!function(){"use strict";angular.module("AngularApp.Auth",["ui.router"])}(),function(){"use strict";angular.module("AngularApp.Auth").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("login",{url:"/login",controller:"LoginController",templateUrl:"app/modules/auth/views/login.html"}).state("main.unauthorize",{url:"/unauthorize",views:{"@":{templateUrl:"app/modules/auth/views/unauthorize.html"}},data:{isAuthRequired:!0,roles:["admin","user"]}})}])}(),function(){"use strict";angular.module("AngularApp.Auth").controller("LoginController",["$scope","$state","AuthService",function(a,b,c){a.login=function(){var a={email:"test@gmail.com",access_token:"12345678",role:"user"};c.login(a),b.go("main.dashboard")}}])}(),function(){"use strict";function a(){this._user=localStorage.getItem("session.user")?JSON.parse(localStorage.getItem("session.user")):null,this._role=localStorage.getItem("session.user.role"),this._accessToken=localStorage.getItem("session.access_token"),this.setUser=function(a){this._user=a,localStorage.setItem("session.user",JSON.stringify(a))},this.setAccessToken=function(a){this._accessToken=a,localStorage.setItem("session.access_token",a)},this.setRole=function(a){this._role=a,localStorage.setItem("session.user.role",a)},this.getUser=function(){return this._user},this.getAccessToken=function(){return this._accessToken},this.getRole=function(){return this._role},this.destroy=function(){this.setAccessToken(null),this.setUser(null),this.setRole(null)}}angular.module("AngularApp.Auth").service("Session",[a])}(),function(){"use strict";function a(a,b){this.login=function(a){b.setAccessToken(a.access_token),b.setRole(a.role),b.setUser(a)},this.logout=function(){b.destroy()},this.isAuthorized=function(a){return angular.isArray(a)&&-1!==a.indexOf(b.getRole())?!0:!1},this.isAuthenticated=function(){return b.getUser()&&b.getUser().access_token?!0:!1}}angular.module("AngularApp.Auth").service("AuthService",["$http","Session",a])}(),function(){"use strict";angular.module("AngularApp.Common",["ui.router"])}(),function(){"use strict";angular.module("AngularApp.Common").controller("MenuController",["$scope","Session",function(a,b){var c={admin:[{label:"Dashboard",state:"main.dashboard","class":"",icon:"",id:"dashboard_link",has_child:!1},{label:"Users",state:"main.users","class":"",icon:"",id:"users_link",has_child:!1}],user:[{label:"Dashboard",state:"main.dashboard","class":"",icon:"",id:"dashboard_link",has_child:!1},{label:"Profile",state:"main.profile","class":"",icon:"",id:"profile_link",has_child:!1}]};switch(b.getRole()){case"admin":a.menu=c.admin;break;case"user":a.menu=c.user;break;default:a.menu=[]}}])}(),function(){"use strict";angular.module("AngularApp.Common").controller("HeaderController",["$scope","Session","$state",function(a,b,c){a.logout=function(){b.destroy(),c.go("login")}}])}(),function(){"use strict";angular.module("AngularApp.Dashboard",["ui.router"])}(),function(){"use strict";angular.module("AngularApp.Dashboard").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("main.dashboard",{url:"/dashboard",controller:"DashboardController",views:{"@":{templateUrl:"app/modules/dashboard/views/dashboard.html"}},data:{isAuthRequired:!0,roles:["admin"]}})}])}(),function(){"use strict";angular.module("AngularApp.Dashboard").controller("DashboardController",["$scope","$state",function(a,b){}])}(),function(){"use strict";angular.module("AngularApp.Account",["ui.router"])}(),function(){"use strict";angular.module("AngularApp.Account").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("main.profile",{url:"/profile",views:{"@":{templateUrl:"app/modules/account/views/profile.html",controller:"ProfileController"},"slider@":{template:"slider"}},data:{isAuthRequired:!0,roles:["user"]}}),a.state("main.users",{url:"/users",views:{"@":{templateUrl:"app/modules/account/views/userList.html",controller:"UserController"}},data:{isAuthRequired:!0,roles:["admin","user"]}})}])}(),function(){"use strict";angular.module("AngularApp.Account").controller("ProfileController",["$scope","$state",function(a,b){a.user={name:"",username:"",email:""}}])}(),function(){"use strict";angular.module("AngularApp.Account").controller("UserController",["$scope","$state",function(a,b){a.users=[{id:1,name:"user1",username:"username1",email:"user1@domain.com"},{id:2,name:"user2",username:"username2",email:"user2@domain.com"},{id:3,name:"user3",username:"username3",email:"user3@domain.com"}]}])}(),function(){"use strict";angular.module("AngularApp",["ui.router","AngularApp.Common","AngularApp.Auth","AngularApp.Dashboard","AngularApp.Account"])}(),function(){"use strict";function a(a,b){b.otherwise("/"),a.state("main",{url:"",views:{header:{templateUrl:"app/modules/common/views/header.html",controller:"HeaderController"},"navigation@main":{templateUrl:"app/modules/common/views/leftNavigation.html",controller:"MenuController"}}})}angular.module("AngularApp").config(["$stateProvider","$urlRouterProvider",a]),angular.module("AngularApp").run(["$rootScope","AuthService","$state",function(a,b,c){a.$on("$stateChangeStart",function(a,d,e,f,g){d.data&&d.data.isAuthRequired&&(b.isAuthenticated()?b.isAuthorized(d.data.roles)||(a.preventDefault(),c.go("main.unauthorize")):(a.preventDefault(),c.go("login")))})}])}(),$(function(){$("#side-menu").metisMenu()}),$(function(){$(window).bind("load resize",function(){topOffset=50,width=this.window.innerWidth>0?this.window.innerWidth:this.screen.width,width<768?($("div.navbar-collapse").addClass("collapse"),topOffset=100):$("div.navbar-collapse").removeClass("collapse"),height=(this.window.innerHeight>0?this.window.innerHeight:this.screen.height)-1,height-=topOffset,height<1&&(height=1),height>topOffset&&$("#page-wrapper").css("min-height",height+"px")});var a=window.location,b=$("ul.nav a").filter(function(){return this.href==a||0==a.href.indexOf(this.href)}).addClass("active").parent().parent().addClass("in").parent();b.is("li")&&b.addClass("active")});